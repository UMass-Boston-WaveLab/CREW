% !TEX TS-program = pdflatex
% !TEX encoding = UTF-8 Unicode

% This is a simple template for a LaTeX document using the "article" class.
% See "book", "report", "letter" for other types of document.

\documentclass{allertonproc} 

%%% Examples of Article customizations
% These packages are optional, depending whether you want the features they provide.
% See the LaTeX Companion or other references for full information.
\usepackage{cite}
\usepackage{graphicx} % support the \includegraphics command and options
\usepackage{amsmath}
% \usepackage[parfill]{parskip} % Activate to begin paragraphs with an empty line rather than an indent

%%% PACKAGES
\usepackage{booktabs} % for much better looking tables
\usepackage{array} % for better arrays (eg matrices) in maths
\usepackage{paralist} % very flexible & customisable lists (eg. enumerate/itemize, etc.)
\usepackage{verbatim} % adds environment for commenting out blocks of text & for better verbatim
\usepackage{subfig} % make it possible to include more than one captioned figure/table in a single float
% These packages are all incorporated in the memoir class to one degree or another...

%%% The "real" document content comes below...

\title{SPATIAL CHANNEL PREDICTION FOR EAVESDROPPING ON WIRELESS FADING BASED KEY GENERATION} %this title is not bad
\author{Eric Brown, Clara Gamboa, and K.~C.~Kerby-Patel\\University of Massachusetts Boston, Boston, MA\\kc.kerby-patel@umb.edu} %the convention is that the advisor's name goes last
%also have to put in our UMB affiliation blurb
\date{} % Activate to display a given date or no date (if empty),
         % otherwise the current date is printed 

\begin{document}
\maketitle
\bibliographystyle{ieeetran}

\begin{abstract}

Physical layer key generation techniques based on wireless channel fading are generally considered to be secure as long as any eavesdroppers are separated from the terminals by a distance greater than the channel correlation length.  In fact, this is true only if the channel observations are jointly Gaussian random variables.  A channel's transfer function is determined by the physical scatterers in that particular channel realization, and information about the communicating parties' channel may persist over significantly longer distances than the correlation length if the physical parameters of the channel are slowly varying.  Linear prediction has previously been employed to predict samples of the channel transfer function ahead in time.  In this work, we demonstrate that it is also possible to predict the channel transfer function in space, over distances larger than the correlation length.  This leads us to conclude that a more pessimistic ``safe'' eavesdropper distance for wireless fading based key generation is needed.
\end{abstract}
%we will have to compute the correlation length from the observed channel covariance matrix.  

%\textbf{Key words:} -- wireless, channel, fading, key generation, physical layer, security

\section{Introduction}
It has been demonstrated \cite{azimisadjadi2007, bloch2008, mathur2008, ye2010} that two parties' reciprocal observations of a fading wireless channel can be used as a common source of randomness to generate symmetric encryption keys in cases where two parties cannot pre-arrange or securely exchange keys.  Each party transmits a predetermined waveform, which the other party uses to determine the channel transfer function.  These measurements are assumed to be the same in both directions if completed within a short period of time, because of the channel's reciprocity.  The channel transfer function is also position dependent, so eavesdroppers at other locations observe a different channel transfer function.  This work examines how (and under what circumstances) an eavesdropper could predict the channel observations of the communicating parties.

The security of this key generation method is based on the assumption that if an eavesdropper is located farther than a correlation length from the communicating parties, it will have essentially no information about the symmetric key generated from their reciprocal channel measurements \cite{azimisadjadi2007, bloch2008, mathur2008, ye2010}.  This assumption is based on the fact that the channel correlation function falls off quickly with distance \cite{jakes1974}.  However, mutual information between two channel observation locations may be high even if the channel correlation function is low or has a minimum.  The channel transfer function is a deterministic function of the physical environment.  Although the environmental parameters may be unknown, in they often vary quite slowly with distance compared to the correlation function of the channel \cite{jakes1974, duel-hallen2007}.  An upper bound on the mutual information between channel observations at two locations is the mutual information between the channel parameters at those locations \cite{kckpVTC2015}.  Such information may persist over distances longer than the correlation length, so security claims based on the correlation length are inappropriate.  In this work, we apply channel prediction techniques \cite{duel-hallen2007} to investigate the distance over which it is possible to predict the channel transfer function.

Section \ref{mutualinfo} briefly summarizes the argument for a mutual information based minimum secure distance that was presented in \ref{kckpVTC2015}.
%% Should the summary include the CRLB stuff?  If it does, it's a good way to lead in to how we chose the "default" prediction & channel parameters in the simulation.
  Next, in Section \ref{prediction}, we apply long-range prediction techniques to a series of spatial samples in order to predict the channel transfer function over distances greater than the correlation length.  In Section \ref{simresults}, we apply this technique to a simple simulated channel to examine the dependence of prediction length on the properties of the channel and the eavesdropper array. 

\section{Mutual Information vs.~Correlation}\label{mutualinfo} %this needs a better section heading
The ability of an eavesdropper to estimate the communicating parties' encryption key depends on the mutual information between the eavesdropper's channel observations and the legitimate nodes' observations.  


mutual information IF GAUSSIAN
\begin{equation}\label{mutualinformationgauss}
I(h(\vec{r}),h(\vec{r}+\vec{\Delta r})) = -\frac{1}{2}\ln\left(1-\frac{R_h(\vec{r},\vec{r}+\vec{\Delta r})}{\sigma_h^2}\right)
\end{equation}
where the correlation function is defined as usual:
\begin{equation}\label{ensemblecorr}
R_h(\vec{r},\vec{r}+\vec{\Delta r}) = E[h(\vec{r})h^*(\vec{r}+\vec{\Delta r})]
\end{equation}

However, if the two observations are not jointly Guassian (\ref{mutualinformationgauss}) is merely a lower bound on the mutual information.  In the general case, mutual information between channel transfer function at two locations is bounded by the mutual information between the environmental parameters $\boldsymbol{\theta_1}$ and $\boldsymbol{\theta_2}$ (due to the data processing inequality)
\begin{equation}
I(h(\boldsymbol{\theta_1},\mathbf{r_1}); h(\boldsymbol{\theta_2},\mathbf{r_2}))\leq I(\boldsymbol{\theta_1}; \boldsymbol{\theta_2})
\end{equation}

mutual information - observations at 2 locations
\begin{equation}
I(\tilde{h}(\boldsymbol{\theta_1},\mathbf{r_1}); \tilde{h}(\boldsymbol{\theta_2},\mathbf{r_2}))\leq I(h(\boldsymbol{\theta_1},\mathbf{r_1}); h(\boldsymbol{\theta_2},\mathbf{r_2}))
\end{equation}

mutual information - if theta didn't change
\begin{equation}
I(\tilde{h}(\boldsymbol{\theta},\mathbf{r_1}); \tilde{h}(\boldsymbol{\theta},\mathbf{r_2}))\leq H(\boldsymbol{\theta})
\end{equation}

\section{Spatial Long-Range Channel Prediction Method}\label{prediction}
%belongs to Eric
As discussed in Section 3, the channel's spatial variation is not ergodic, therefore it is well suited to long-range prediction techniques \cite{(someone, perhaps a duel-hallen paper, said this)}. Rather than using long-range prediction to predict the channel transfer function ahead temporally, we predict it spatially. 

Previous literature(CITE) has shown that this problem is conducive to a spectral estimation approach. This is due tot he fact that we are only attempting to predict a small number of wavelengths forward in space. (DUEL-HALLEN PAPER) States that channel can be very accurately estimated within a signle doppler wavelength, which encompasses several carrier wavelengths. In temporal prediction applications, it has been observed that time variation of the amplitudes and frequencies in the sum-of-sinusoids model is on the order of 0.1 seconds \cite{duel-hallen2007} \emph{This may depend on how fast they assume the receiver is moving?} (WHY Do we need this?).  In order to assemble an acceptable set of data to solve a spectral estimation problem, we simulate array of spatial samples with regular spacing to collect information on the wireless channel.

We simulate the listener as a series of recievers along a line that points in the direction of the point we'd like to simulate. Since we assume that all sampling occurs simultaneously our equation is simplified. The Equation \ref{chan} describes a transfer function along a line.


\begin{equation}\label{chan}
\hat{H}= \sum_{n=1}^N \alpha_n e^{-j(k+k_d\cos\theta_n)d}
\end{equation}

 Where $\hat{H}$ is the channel estimate, $\alpha_n$ is the $n^{th}$ complex amplitude, N is the number of samples, $d$ is the distance between the samples, k is the wave number, and $k_d\cos\theta_n$ is the doppler wave number. 

Our unknowns in this system are the amplitude and the wave numbers. We make the assumption that the angle of arrival for all the listening samples is the same because they are all in the far field. This array of samples is of length $Nd+qd$, where $q$ is the number of sample lengths ahead we'd like to predict. With this channel prediction model we obtain a set of data points for the channel in each location, then use spectral estimation to project this sample out to the location of B.

The solution to the estimation problem can be broken into two parts. Estimating the amplitudes, then estimation the wave number $k$ from the resultant amplitude array. We used the rootMUSIC algorithm supplied in MATLAB to determine the amplitudes. RootMUSIC uses eigenvalue analysis of the channel's correlation matrix to estimate the signals frequency content. The specific command used estimates the discrete frequency spectrum, and provides the signal power.  In order to determine wavenumber we used the method described in (CITE paper cant find it)(Describe method we used, took a covariance matrix did stuff, least mean squares blah blah) 

  %say what we do and why (spectral estimation is ok because  parameters don't change very fast)


%describe the problem setup: channel, eavesdropper


%summary of math - MUSIC (cite MATLAB) and how to estimate the coefficients (cite paper where we got that technique)


\section{Spatial Long-Range Channel Prediction Simulated Results}\label{simresults}
%belongs to Eric
%where is a good place for this sentence.
The channel model is shown in Figure (insert). Point A is the transmitter, several scatterers S, and a desired estimation location B. E is an array of sample readings taken in line with the listener. The model uses 10 scatterers, as it has been shown in (DUAL HALLEN citation) most real world channels contain less than 10 large scatterers. In our simulation we assume the sender A and all the scatterers reside in the far field. 
%in this section we apply the method from the previous section to a simulated channel

%describe the channel simulation (very similar to problem setup from previous section) - what did we assume about the problem geometry - how are the angles distributed? (uniformly) what is f_doppler/f_c?

%find average prediction length and how it varies for different values of $d$ (element spacing in E), $N$ (number of elements in E), and $S$ (number of scatterers) - include figures

These prediction lengths are unrealistic because the simulated channel doesn't change vs. position at all.  A realistic channel will change as the eavesdropper's position changes. 

\section{Conclusion}
%belongs to Clara
%we applied long-range prediction to estimate the channel transfer function at a location in space that is separated from the eavesdropper by more than a correlation length.  This indicates that the minimum safe distance for secure key generation based on wireless fading must be reexamined.

%future work: do a scenario where the eavesdropper moves through space and see if we can do spatiotemporal channel prediction simultaneously, see about 2D eavesdropper arrays and other problem geometries (what if all the scatterers are in an arc of the space instead of evenly distributed? does it matter?), do a security analysis by estimating the error of the prediction(?), demonstrate spatial channel prediction experimentally, investigate the effect of mutual coupling between array elements on the quality of the eavesdropper's predictions
\bibliography{PL-Library}{}
\end{document}